<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Laravel Gemini AI Translation Synchronization Tool - Documentation</title>
    <style>
        :root {
            --primary-color: #3b82f6;
            --secondary-color: #1e40af;
            --accent-color: #10b981;
            --warning-color: #f59e0b;
            --error-color: #ef4444;

            --bg-color-light: #f8fafc;
            --text-color-light: #1f2937;
            --border-color-light: #e5e7eb;
            --code-bg-light: #f1f5f9;
            --section-bg-light: rgba(255, 255, 255, 0.8);
            --nav-bg-light: rgba(255, 255, 255, 0.85);

            --bg-color-dark: #0f172a;
            --text-color-dark: #e2e8f0;
            --border-color-dark: #334155;
            --code-bg-dark: #1e293b;
            --section-bg-dark: rgba(30, 41, 59, 0.8);
            --nav-bg-dark: rgba(15, 23, 42, 0.85);

            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -4px rgba(0, 0, 0, 0.1);
            --gradient-primary: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            --gradient-accent: linear-gradient(135deg, var(--accent-color), #059669);
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        :root {
            --bg-color: var(--bg-color-light);
            --text-color: var(--text-color-light);
            --border-color: var(--border-color-light);
            --code-bg: var(--code-bg-light);
            --section-bg: var(--section-bg-light);
            --nav-bg: var(--nav-bg-light);
        }

        html.dark {
            --bg-color: var(--bg-color-dark);
            --text-color: var(--text-color-dark);
            --border-color: var(--border-color-dark);
            --code-bg: var(--code-bg-dark);
            --section-bg: var(--section-bg-dark);
            --nav-bg: var(--nav-bg-dark);

            .theme-toggle {
                .sun-icon {
                    transform: scale(0);
                    opacity: 0;
                }

                .moon-icon {
                    transform: scale(1);
                    opacity: 1;
                }
            }

            :is(h1, h2, h3) {
                color: var(--primary-color);
            }

            .feature-icon {
                color: var(--primary-color);
            }

            .alert-info {
                background-color: rgba(59, 130, 246, 0.15);
            }

            .alert-warning {
                background-color: rgba(245, 158, 11, 0.15);
            }

            .alert-success {
                background-color: rgba(16, 185, 129, 0.15);
            }

            p a {
                color: lightseagreen;
            }
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            list-style-position: inside;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--bg-color);
            background-attachment: fixed;
            transition: var(--transition);
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
            }

            to {
                opacity: 1;
            }
        }

        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        header {
            background: var(--gradient-primary);
            color: white;
            padding: 3rem 0;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;

            &::before {
                content: '';
                position: absolute;
                top: -50%;
                left: -50%;
                width: 200%;
                height: 200%;
                background: radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0) 60%);
                animation: rotate 40s linear infinite;
            }
        }

        @keyframes rotate {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1.5rem;
            position: relative;
            z-index: 1;
            animation: slideInUp 0.8s ease-out;
        }

        .logo {
            font-size: 1.8rem;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
        }

        .badges {
            display: flex;
            gap: 0.75rem;
            flex-wrap: wrap;
        }

        .badge {
            display: inline-block;
            padding: 0.4rem 0.8rem;
            background: rgba(255, 255, 255, 0.15);
            border-radius: 9999px;
            font-size: 0.875rem;
            font-weight: 500;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transition: var(--transition);

            &:hover {
                background: rgba(255, 255, 255, 0.25);
                transform: translateY(-2px);
                box-shadow: var(--shadow-md);
            }
        }

        nav {
            background: var(--nav-bg);
            padding: 1rem 0;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border-color);
            transition: background-color 0.3s;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-links {
            display: flex;
            gap: 1rem;
            list-style: none;
            flex-wrap: wrap;

            a {
                color: var(--text-color);
                text-decoration: none;
                font-weight: 500;
                padding: 0.5rem 1rem;
                border-radius: 0.5rem;
                position: relative;
                transition: var(--transition);

                &::after {
                    content: '';
                    position: absolute;
                    bottom: 0;
                    left: 50%;
                    width: 0;
                    height: 2px;
                    background: var(--gradient-primary);
                    transform: translateX(-50%);
                    transition: var(--transition);
                    border-radius: 2px;
                }

                &:hover,
                &.active {
                    color: var(--primary-color);
                    background: rgba(59, 130, 246, 0.1);

                    &::after {
                        width: 80%;
                    }
                }
            }
        }

        .nav-controls {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .theme-toggle {
            background: none;
            border: none;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            width: 40px;
            height: 40px;

            &:hover {
                background: rgba(59, 130, 246, 0.1);
            }

            svg {
                position: absolute;
                width: 20px;
                height: 20px;
                transition: transform 0.3s ease-out, opacity 0.3s ease-out;
                color: var(--text-color);
            }

            .sun-icon {
                transform: scale(1);
                opacity: 1;
            }

            .moon-icon {
                transform: scale(0);
                opacity: 0;
            }
        }

        .hamburger-menu {
            display: none;
            cursor: pointer;
            flex-direction: column;
            gap: 5px;
            background: none;
            border: none;
            padding: 0.5rem;
            border-radius: 0.5rem;

            .bar {
                width: 25px;
                height: 3px;
                background-color: var(--text-color);
                border-radius: 2px;
                transition: all 0.3s ease-in-out;
            }
        }

        main {
            padding: 3rem 0;
            animation: fadeIn 1s ease-out;
        }

        .section {
            margin-bottom: 4rem;
            background: var(--section-bg);
            padding: 2.5rem;
            border-radius: 1rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
            position: relative;
            transition: var(--transition);

            &:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-lg);
            }
        }

        h1,
        h2,
        h3 {
            margin-bottom: 1.5rem;
            color: var(--secondary-color);
            font-weight: 700;
        }

        h2 {
            font-size: 2rem;
            position: relative;
            padding-bottom: 1rem;

            &::after {
                content: '';
                position: absolute;
                bottom: 0;
                left: 0;
                width: 50px;
                height: 3px;
                background: var(--gradient-primary);
                border-radius: 3px;
            }
        }

        h3 {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-block: 1rem 0.37rem;
        }

        p {
            margin-bottom: 1.5rem;
            font-size: 1.05rem;
            line-height: 1.8;
        }

        pre {
            background: var(--code-bg);
            padding: 1.5rem;
            padding-top: 2.5rem;
            border-radius: 0.75rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            border: 1px solid var(--border-color);
            position: relative;
            box-shadow: var(--shadow-sm);

            &::before {
                content: '';
                position: absolute;
                top: 0.75rem;
                left: 1rem;
                width: 12px;
                height: 12px;
                border-radius: 50%;
                background: #ff5f56;
                box-shadow: 20px 0 #ffbd2e, 40px 0 #27ca3f;
            }
        }

        code {
            font-family: "JetBrains Mono", "Fira Code", "SF Mono", Consolas, monospace;
            font-size: 0.9rem;
        }

        .inline-code {
            background: var(--code-bg);
            padding: 0.2rem 0.5rem;
            border-radius: 0.3rem;
            font-size: 0.9rem;
            border: 1px solid var(--border-color);
            text-wrap-mode: nowrap;

            &.wrap {
                display: inline-block;
                transform: translateY(-0.5ch);
                margin-inline: 0.5ch;
            }
        }

        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin: 2.5rem 0;
        }

        .feature-card {
            background: var(--bg-color);
            padding: 2rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            transition: var(--transition);

            &:hover {
                transform: translateY(-5px);
                box-shadow: var(--shadow-lg);
                border-color: var(--primary-color);

                .feature-icon {
                    transform: scale(1.1);
                    color: var(--primary-color);
                }
            }
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            transition: var(--transition);
            display: inline-block;
            color: var(--secondary-color);
        }



        .table-responsive-wrapper {
            overflow-x: auto;
            width: 100%;
            border-radius: 0.75rem;
            box-shadow: var(--shadow-md);
            border: 1px solid var(--border-color);
        }

        .options-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;

            th,
            td {
                padding: 1rem;
                text-align: left;
                border-bottom: 1px solid var(--border-color);
            }

            th {
                background: var(--code-bg);
                font-weight: 600;
                color: var(--secondary-color);


                html.dark & {
                    color: var(--primary-color);
                }
            }


            tr:last-child td {
                border-bottom: none;
            }

            tr:hover {
                background-color: rgba(59, 130, 246, 0.05);
            }
        }

        .alert {
            padding: 1.25rem 1.5rem;
            border-radius: 0.75rem;
            margin: 1.5rem 0;
            border: 1px solid transparent;
            position: relative;
            border-left-width: 4px;
        }

        .alert-info {
            border-color: var(--primary-color);
            background-color: rgba(59, 130, 246, 0.1);
        }

        .alert-warning {
            border-color: var(--warning-color);
            background-color: rgba(245, 158, 11, 0.1);
        }

        .alert-success {
            border-color: var(--accent-color);
            background-color: rgba(16, 185, 129, 0.1);
        }

        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: var(--gradient-primary);
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 1.5rem;
            cursor: pointer;
            opacity: 0;
            transition: var(--transition);
            z-index: 1000;
            visibility: hidden;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            justify-content: center;

            &.visible {
                opacity: 1;
                visibility: visible;
                transform: scale(1);
            }

            &:hover {
                transform: scale(1.1) translateY(-3px);
                box-shadow: 0 15px 25px -5px rgba(30, 64, 175, 0.4);
            }
        }

        @media (max-width: 992px) {
            .nav-links {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 100%;
                left: 0;
                width: 100%;
                background: var(--bg-color);
                box-shadow: var(--shadow-lg);
                padding: 1rem 0;
                gap: 0;
                border-top: 1px solid var(--border-color);

                &.active {
                    display: flex;
                    animation: slideInUp 0.3s ease-out;
                }

                a {
                    display: block;
                    padding: 1rem;
                    text-align: center;
                    margin: 0.25rem 1rem;
                }
            }

            .nav-controls {
                margin-left: auto;
            }

            .hamburger-menu {
                display: flex;
            }

            body.nav-open .hamburger-menu {
                .bar:nth-child(1) {
                    transform: rotate(45deg) translate(5px, 5px);
                }

                .bar:nth-child(2) {
                    opacity: 0;
                }

                .bar:nth-child(3) {
                    transform: rotate(-45deg) translate(7px, -6px);
                }
            }
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 15px;
            }

            .section {
                padding: 2rem 1.5rem;
            }

            h2 {
                font-size: 1.75rem;
            }

            .logo {
                font-size: 1.25rem;
            }

            header {
                padding: 2.5rem 0;
            }
        }
    </style>
</head>

<body>
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    üåê Laravel AI Translation Synchronization Tool
                </div>
                <div class="badges">
                    <span class="badge">v3.7</span>
                    <span class="badge">PHP 8.1+</span>
                    <span class="badge">Laravel 10+</span>
                    <span class="badge">Module Support</span>
                </div>
            </div>
        </div>
    </header>

    <nav>
        <div class="container nav-container">
            <ul class="nav-links" id="nav-links">
                <li><a href="#overview">Overview</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#configuration">Configuration</a></li>
                <li><a href="#usage">Usage</a></li>
                <li><a href="#modules">Module Support</a></li>
                <li><a href="#advanced">Advanced Usage</a></li>
                <li><a href="#context">AI-First Translation</a></li>
                <li><a href="#options">Options</a></li>
                <li><a href="#examples">Examples</a></li>
                <li><a href="#troubleshooting">Troubleshooting</a></li>
                <li><a href="#faq">FAQ</a></li>
                <li><a href="#contributing">Contributing</a></li>
            </ul>
            <div class="nav-controls">
                <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
                    <svg class="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none"
                        stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="12" cy="12" r="4" fill="currentColor" stroke="none" />
                        <line x1="12" y1="1" x2="12" y2="3" stroke="currentColor" />
                        <line x1="12" y1="21" x2="12" y2="23" stroke="currentColor" />
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke="currentColor" />
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke="currentColor" />
                        <line x1="1" y1="12" x2="3" y2="12" stroke="currentColor" />
                        <line x1="21" y1="12" x2="23" y2="12" stroke="currentColor" />
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke="currentColor" />
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke="currentColor" />
                    </svg>
                    <svg class="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" stroke-width="1.5"
                        stroke="none" fill="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round"
                            d="M21.752 15.002A9.718 9.718 0 0118 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 003 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 009.002-5.998z" />
                    </svg>
                </button>
                <button class="hamburger-menu" id="hamburger-menu" aria-label="Toggle navigation menu">
                    <span class="bar"></span>
                    <span class="bar"></span>
                    <span class="bar"></span>
                </button>
            </div>
        </div>
    </nav>

    <main>
        <div class="container">
            <section id="overview" class="section">
                <h2>üìã Overview</h2>
                <p>
                    The Laravel Gemini AI Translation Synchronization Tool is a powerful Artisan command that
                    revolutionizes the localization workflow for modern Laravel applications, including those built
                    with <a href="https://laravelmodules.com/"
                        target="_blank">nwidart/laravel-modules</a>.
                    It goes beyond simple key extraction by discovering keys from all sources‚Äîyour code, existing
                    language files, and the framework‚Äîand then intelligently synchronizes them across all target
                    languages using Gemini AI.
                </p>

                <div class="feature-grid">
                    <div class="feature-card">
                        <div class="feature-icon">üß©</div>
                        <h3>Full Module Support</h3>
                        <p>Automatically detects and handles translations for the main application and any enabled <code
                                class="inline-code">nwidart</code> modules, keeping them separate and organized.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">ü§ñ</div>
                        <h3>AI-First Translation</h3>
                        <p>Trusts the AI to interpret both namespaced keys (e.g., <code
                                class="inline-code">messages.welcome</code>) and literal strings to generate accurate,
                            context-aware translations.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">üîÑ</div>
                        <h3>True Synchronization</h3>
                        <p>Discovers keys from your code and existing files to create a complete picture, ensuring no
                            translation is left behind. Use <code class="inline-code">--skip-existing</code> to only add
                            missing keys.</p>
                    </div>
                    <div class="feature-card">
                        <div class="feature-icon">‚ö°</div>
                        <h3>High Performance</h3>
                        <p>Features a <code class="inline-code">fork</code> driver for lightning-fast parallel
                            processing on Linux/macOS/WSL, and a stable <code class="inline-code">sync</code> driver for
                            Windows.</p>
                    </div>
                </div>
            </section>

            <section id="installation" class="section">
                <h2>üöÄ Installation</h2>
                <h3>Step 1: Install via Composer</h3>
                <pre><code>composer require jayesh/laravel-gemini-translator</code></pre>

                <h3>Step 2: Publish Configuration</h3>
                <pre><code>php artisan vendor:publish --provider="Gemini\Laravel\GeminiServiceProvider"</code></pre>
                <p>This creates the <code class="inline-code">config/gemini.php</code> file.</p>

                <h3>Step 3: Add API Key</h3>
                <p>Add your Gemini API key to your <code class="inline-code">.env</code> file. You can get a key from
                    the <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a>.</p>
                <pre><code>GEMINI_API_KEY="YOUR_GEMINI_API_KEY"</code></pre>
                <div class="alert alert-info">
                    <strong>Offline Mode:</strong> If you run the command without a <code
                        class="inline-code">GEMINI_API_KEY</code>, it will automatically switch to Offline Mode,
                    generating placeholder files so your application doesn't break.
                </div>
            </section>

            <section id="configuration" class="section">
                <h2>‚öôÔ∏è Configuration</h2>
                <h3>Environment Variables</h3>
                <p>Add these variables to your <code class="inline-code">.env</code> file:</p>
                <pre><code>GEMINI_API_KEY="YOUR_GEMINI_API_KEY"
GEMINI_REQUEST_TIMEOUT=600</code></pre>

                <h3>Getting Your API Key</h3>
                <p>
                    1. Visit <a href="https://makersuite.google.com/app/apikey" target="_blank">Google AI Studio</a><br>
                    2. Sign in with your Google account<br>
                    3. Create a new API key<br>
                    4. Copy and paste it into your <code class="inline-code">.env</code> file
                </p>

                <div class="alert alert-warning">
                    <strong>Free Tier Limits:</strong> The free tier has limits on requests per minute/day. For large
                    projects, consider using smaller chunk sizes or processing in batches to stay within these limits.
                </div>

                <h3>Configuration File</h3>
                <p>The <code class="inline-code">config/gemini.php</code> file allows you to customize:</p>
                <ul>
                    <li>AI model selection (e.g., Gemini 2.5 Flash-Lite)</li>
                    <li>Request timeout settings</li>
                    <li>Default language preferences</li>
                    <li>Retry logic parameters</li>
                </ul>
            </section>

            <section id="usage" class="section">
                <h2>üéØ Usage</h2>

                <h3>Basic Command</h3>
                <p>Simply run the command to start the interactive process. It will guide you through selecting which
                    parts of your application and which files to process.</p>
                <pre><code>php artisan translations:extract-and-generate</code></pre>

                <h3>Platform-Specific Recommendations</h3>
                <p>For the best experience, specify a driver based on your operating system.</p>
                <pre><code># Linux/macOS/WSL (fastest performance)
php artisan translations:extract-and-generate --driver=fork

# Windows (maximum stability)
php artisan translations:extract-and-generate --driver=sync</code></pre>

                <h3>Incremental Updates (Synchronization)</h3>
                <p>To add new translations without overwriting existing ones, use the <code
                        class="inline-code">--skip-existing</code> flag. This is the recommended workflow for ongoing
                    projects.</p>
                <pre><code># Find and translate only the keys that are missing in Spanish and German
php artisan translations:extract-and-generate --skip-existing --langs=es,de</code></pre>
            </section>

            <section id="modules" class="section">
                <h2>üß© Module Support (<code class="inline-code wrap">nwidart/laravel-modules</code>)</h2>
                <p>The tool is designed from the ground up to support modular applications. It automatically detects
                    enabled modules and treats them as separate translation contexts.</p>

                <h3>1. Select Scan Targets</h3>
                <p>When you run the command, you will be prompted to choose which parts of your application to scan.</p>
                <pre><code>‚îå Which parts of the application would you like to scan and process? ‚îê
 ‚óè -- ALL TARGETS --
 ‚óã Main Application
 ‚óã Module: Settings
 ‚óã Module: Blog
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</code></pre>

                <h3>2. Select Files to Process</h3>
                <p>The tool then shows you all the translation files it has discovered, correctly grouped by their
                    origin (Main App or Module), including those in subdirectories.</p>
                <pre><code>‚îå Which translation files would you like to process? ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
 ‚óã Main Application: JSON File (web/*.json)
 ‚óè Main Application: validation.php
 ‚óã Module: Blog: JSON File (*.json)
 ‚óè Module: Settings: JSON File (web/*.json)
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò</code></pre>

                <h3>3. Separate File Generation</h3>
                <p>The translated files are written to their correct locations, keeping your module translations
                    encapsulated.</p>
                <pre><code> ‚úÖ Updated: lang/en/validation.php (138 total keys)
 ‚úÖ Updated: Modules/Settings/lang/web/en.json (52 total keys)
 ‚úÖ Updated: Modules/Blog/lang/en.json (128 total keys)</code></pre>
            </section>

            <section id="advanced" class="section">
                <h2>üöÄ Advanced Usage & Output</h2>

                <h3>Fork Driver Output (Linux/macOS)</h3>
                <p>The high-performance `fork` driver shows a real-time progress bar for all keys being processed
                    concurrently.</p>
                <pre><code>‚úÖ Key discovery complete! Found 451 unique keys from all sources combined.

Press the 'q' key at any time to gracefully stop the process.
üìä Total keys needing translation: 7
üì¶ Total chunks to process: 2
‚ö° Using 'fork' driver for high-performance concurrency.
üöÄ 7/7 [============================] 100% -- ‚úÖ Chunk 2/2 - SUCCESS (5 keys) ‚è±Ô∏è     3 s

‚ïî‚ïê üíæ Phase 3: Writing Language Files ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó

 ‚úÖ Updated: lang/en/auth.php (8 total keys)
 ‚úÖ Updated: lang/ru/auth.php (8 total keys)
 ‚úÖ Updated: lang/uz/auth.php (8 total keys)
</code></pre>

                <h3>Sync Driver Output (Windows)</h3>
                <p>The stable `sync` driver processes chunks sequentially and provides feedback for each one, which is
                    ideal for environments that don't support forking.</p>
                <pre><code>‚úÖ Key discovery complete! Found 222 unique keys from all sources combined.

 üêå Running in synchronous mode - this will be slower but more stable!

  -> Processing chunk 1/3... ‚úì Done
  -> Processing chunk 2/3... ‚úì Done
  -> Processing chunk 3/3... ‚úó Failed
     Error: File: __MAIN__::__JSON__, Keys: An unknown error occurred.,... - Error: Syntax error

‚ïî‚ïê üíæ Phase 3: Writing Language Files ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó

  ‚úÖ Wrote: lang/es.json (222 total keys)
  ‚úÖ Wrote: lang/fr.json (222 total keys)
</code></pre>

                <h3>Supported Functions & Patterns</h3>
                <p>The scanner is pre-configured to find keys used in the most common Laravel and JavaScript
                    localization functions.</p>
                <div class="table-responsive-wrapper">
                    <table class="options-table">
                        <thead>
                            <tr>
                                <th>Pattern</th>
                                <th>Example</th>
                                <th>Typical Context</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>__()</code>, <code>trans()</code>, <code>@lang()</code></td>
                                <td><code>__('messages.welcome')</code></td>
                                <td>PHP & Blade</td>
                            </tr>
                            <tr>
                                <td><code>trans_choice()</code>, <code>@choice()</code></td>
                                <td><code>trans_choice('messages.apples', 5)</code></td>
                                <td>PHP & Blade (Pluralization)</td>
                            </tr>
                            <tr>
                                <td><code>$t()</code>, <code>i18n.t()</code></td>
                                <td><code>$t('user.profile')</code></td>
                                <td>Vue.js, JavaScript (i18n Libraries)</td>
                            </tr>
                            <tr>
                                <td><code>v-t</code>, <code>x-text</code></td>
                                <td><code>&lt;span v-t="'buttons.submit'"&gt;</code></td>
                                <td>Vue.js & Alpine.js Directives</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Logging & Debugging</h3>
                <p>For transparency and debugging, the command creates two log files in your project root:</p>
                <ul>
                    <li><code class="inline-code">translation_extraction_log.json</code>: A detailed log of every unique
                        key found in your *code* and the file paths where it was located.</li>
                    <li><code class="inline-code">failed_translation_keys.json</code>: A list of any keys that failed to
                        be translated by the AI, so you can easily retry them.</li>
                </ul>
            </section>

            <section id="context" class="section">
                <h2>üí° AI-First Translation</h2>
                <p>
                    This tool adopts an "AI-First" philosophy. Instead of trying to pre-process translation keys into
                    human-readable text (which can be buggy), it trusts the AI to correctly interpret the keys based on
                    Laravel conventions.
                </p>

                <h3>How the AI Interprets Keys</h3>
                <p>The prompt sent to Gemini is specially designed to handle two types of keys:</p>
                <div class="table-responsive-wrapper">
                    <table class="options-table">
                        <thead>
                            <tr>
                                <th>Key Type</th>
                                <th>Example Key</th>
                                <th>AI's Interpretation</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Namespaced (PHP-style)</td>
                                <td><code class="inline-code">auth.failed</code></td>
                                <td>"Based on Laravel conventions, this means an authentication failure. I will generate
                                    'These credentials do not match our records.'"</td>
                            </tr>
                            <tr>
                                <td>Literal (JSON-style)</td>
                                <td><code class="inline-code">Save Changes</code></td>
                                <td>"This is a literal string. I will translate 'Save Changes' directly."</td>
                            </tr>
                        </tbody>
                    </table>
                </div>

                <h3>Improving Accuracy with the <code class="inline-code">--context</code> Flag</h3>
                <p>For domain-specific terms, you can guide the AI with the <code class="inline-code">--context</code>
                    flag. This is crucial for avoiding ambiguity.</p>

                <pre><code># For a financial trading app, this context ensures accuracy.
php artisan translations:extract-and-generate \
--context="A SaaS platform for financial trading. 'Position' and 'security' refer to financial assets."</code></pre>
            </section>

            <section id="options" class="section">
                <h2>üîß Command Options</h2>
                <div class="table-responsive-wrapper">
                    <table class="options-table">
                        <thead>
                            <tr>
                                <th>Option</th>
                                <th>Description</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td><code>--langs</code></td>
                                <td>Comma-separated language codes to translate to (e.g., <code
                                        class="inline-code">es,fr,de</code>).</td>
                            </tr>
                            <tr>
                                <td><code>--driver</code></td>
                                <td>Concurrency driver: <code class="inline-code">fork</code> (fast, for Linux/macOS) or
                                    <code class="inline-code">sync</code> (stable, for Windows).
                                </td>
                            </tr>
                            <tr>
                                <td><code>--skip-existing</code></td>
                                <td>A flag to only find and translate keys that are missing from target language files.
                                    Ideal for updates.</td>
                            </tr>
                            <tr>
                                <td><code>--context</code></td>
                                <td>Provide a project-specific description to Gemini for more accurate, domain-aware
                                    translations.</td>
                            </tr>
                            <tr>
                                <td><code>--chunk-size</code></td>
                                <td>Number of keys to send to the AI in a single request. Default: 25.</td>
                            </tr>
                            <tr>
                                <td><code>--source</code></td>
                                <td><strong>(Deprecated)</strong> The root directory to scan. The interactive prompt is
                                    now preferred. Default: ".".</td>
                            </tr>
                            <tr>
                                <td><code>--target-dir</code></td>
                                <td>Root directory for the translation files within the app/modules. Default: "lang".
                                </td>
                            </tr>
                            <tr>
                                <td><code>--exclude</code></td>
                                <td>Comma-separated directories to exclude from the scan.</td>
                            </tr>
                            <tr>
                                <td><code>--extensions</code></td>
                                <td>Comma-separated file extensions to search within.</td>
                            </tr>
                            <tr>
                                <td><code>--max-retries</code></td>
                                <td>Maximum number of retries for a failed API call. Default: 5.</td>
                            </tr>
                            <tr>
                                <td><code>--retry-delay</code></td>
                                <td>Base delay in seconds between retries (uses exponential backoff). Default: 3.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="examples" class="section">
                <h2>üí° Usage Examples</h2>

                <h3>Fresh Translation for a Modular Project</h3>
                <pre><code># Generate all translations for the main app and all modules
php artisan translations:extract-and-generate --driver=fork --langs=es,fr</code></pre>

                <h3>Synchronize Missing Keys in a Single Module</h3>
                <pre><code># Interactively select only the 'Blog' module and its files
# Then, find and fill only missing keys
php artisan translations:extract-and-generate --driver=fork --skip-existing</code></pre>

                <h3>High-Performance Synchronization</h3>
                <pre><code># Use fork driver with smaller chunks to find and fill only missing keys
php artisan translations:extract-and-generate --driver=fork --chunk-size=25 --skip-existing</code></pre>

                <h3>Context-Aware Update for a Specific Module</h3>
                <pre><code># Select the 'ECommerce' module, then provide context for its specific terminology
php artisan translations:extract-and-generate --skip-existing \
--context="An e-commerce module. 'Shipment' refers to a package delivery."</code></pre>
            </section>

            <section id="troubleshooting" class="section">
                <h2>üîß Troubleshooting</h2>
                <div class="table-responsive-wrapper">
                    <table class="options-table">
                        <thead>
                            <tr>
                                <th>Error / Issue</th>
                                <th>Common Cause</th>
                                <th>Solution</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>"Invalid API key"</td>
                                <td>The <code class="inline-code">GEMINI_API_KEY</code> in your <code
                                        class="inline-code">.env</code> file is incorrect or missing.</td>
                                <td>Verify the key is correct and has no extra spaces. Run <code
                                        class="inline-code">php artisan config:cache</code> after changes.</td>
                            </tr>
                            <tr>
                                <td>"Syntax error" from Gemini / Low success rate</td>
                                <td>The AI's safety filters may have been triggered by a batch of keys, or the model
                                    returned a malformed response.</td>
                                <td>Reduce the chunk size significantly. Try <code
                                        class="inline-code">--chunk-size=20</code> or lower and re-run. Check
                                    `failed_translation_keys.json` for problematic keys.</td>
                            </tr>
                            <tr>
                                <td>"Quota exceeded" or "Rate limit" errors</td>
                                <td>The free tier API limit has been reached.</td>
                                <td>Lower the chunk size with <code class="inline-code">--chunk-size=25</code> and/or
                                    wait a few minutes before retrying. The tool has built-in exponential backoff.</td>
                            </tr>
                            <tr>
                                <td>"Call to undefined function pcntl_fork()"</td>
                                <td>You are trying to use <code class="inline-code">--driver=fork</code> on an
                                    environment without the <code class="inline-code">pcntl</code> PHP extension (like
                                    standard Windows).</td>
                                <td>Use the stable driver: <code class="inline-code">--driver=sync</code>.</td>
                            </tr>
                            <tr>
                                <td>Script hangs or runs very slowly</td>
                                <td>Processing a very large number of keys with the <code
                                        class="inline-code">sync</code> driver.</td>
                                <td>Be patient, as sync mode is sequential. For large projects, use the <code
                                        class="inline-code">fork</code> driver on Linux/macOS/WSL if possible.</td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="faq" class="section">
                <h2>‚ùì Frequently Asked Questions</h2>
                <h3>Q: How does this handle translations in subdirectories like <code
                        class="inline-code">lang/web/en.json</code>?</h3>
                <p><strong>A:</strong> Perfectly. The tool recursively scans your `lang` directories (in both the main
                    app and modules). It will detect `web/en.json` and present it in the selection prompt as a distinct
                    file group, for example: `Main Application: JSON File (web/*.json)`. When it writes the files, it
                    will
                    place the translated versions in the correct subdirectories (`lang/web/ru.json`, etc.), preserving
                    your structure.</p>

                <h3>Q: Can I use this with existing translation files?</h3>
                <p><strong>A:</strong> Yes, and that's its biggest strength! The tool is designed to work with existing
                    projects. It reads all your current language files to build a complete list of every key your
                    application knows about. When you run it with <code class="inline-code">--skip-existing</code>, it
                    will only translate what's missing, perfectly synchronizing your language files while preserving all
                    your existing work.</p>

                <h3>Q: How accurate are the AI translations?</h3>
                <p><strong>A:</strong> Gemini AI provides high-quality translations, but we always recommend a final
                    review before deploying to production, especially for critical user-facing content or nuanced
                    language. Using the <code class="inline-code">--context</code> flag dramatically improves accuracy
                    for domain-specific projects.</p>

                <h3>Q: What happens if the AI translation fails for a chunk?</h3>
                <p><strong>A:</strong> The command has built-in retry logic with exponential backoff. If a chunk of keys
                    consistently fails after all retries, it is logged in <code>failed_translation_keys.json</code> in
                    your project root,
                    so you can review the problematic keys and handle them manually or retry with a smaller chunk size.
                </p>
            </section>

            <section id="contributing" class="section">
                <h2>üìã Contributing & Support</h2>

                <h3>How to Contribute</h3>
                <ul>
                    <li>Report bugs and request features via GitHub Issues.</li>
                    <li>Submit pull requests for improvements.</li>
                    <li>Star the repository if you find it useful.</li>
                </ul>

                <h3>Support</h3>
                <p>If you encounter issues, please check the troubleshooting section first. If the problem persists,
                    create a new issue on GitHub with detailed information, including your OS, PHP version, and the
                    exact command used.</p>

                <div class="alert alert-warning">
                    <strong>Security:</strong> If you discover a security vulnerability, please email the maintainer
                    directly rather than creating a public issue.
                </div>
            </section>
        </div>
    </main>

    <button class="back-to-top" onclick="scrollToTop()">‚Üë</button>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const backToTopButton = document.querySelector('.back-to-top');
            const hamburger = document.getElementById('hamburger-menu');
            const navLinks = document.getElementById('nav-links');
            const themeToggle = document.getElementById('theme-toggle');
            const htmlElement = document.documentElement;

            const applyTheme = (theme) => {
                if (theme === 'dark') {
                    htmlElement.classList.add('dark');
                } else {
                    htmlElement.classList.remove('dark');
                }
                localStorage.setItem('theme', theme);
            };

            const toggleTheme = () => {
                const currentTheme = htmlElement.classList.contains('dark') ? 'light' : 'dark';
                applyTheme(currentTheme);
            };

            const storedTheme = localStorage.getItem('theme');
            const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (storedTheme) {
                applyTheme(storedTheme);
            } else {
                applyTheme(systemPrefersDark ? 'dark' : 'light');
            }

            themeToggle.addEventListener('click', toggleTheme);

            hamburger.addEventListener('click', function () {
                navLinks.classList.toggle('active');
                document.body.classList.toggle('nav-open');
            });

            navLinks.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    if (navLinks.classList.contains('active')) {
                        navLinks.classList.remove('active');
                        document.body.classList.remove('nav-open');
                    }
                });
            });

            const sections = document.querySelectorAll('section[id]');
            const navLinkElements = document.querySelectorAll('nav a[href^="#"]');

            const handleScroll = () => {
                if (window.pageYOffset > 300) {
                    backToTopButton.classList.add('visible');
                } else {
                    backToTopButton.classList.remove('visible');
                }

                let current = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop;
                    if (window.pageYOffset >= sectionTop - 100) {
                        current = section.getAttribute('id');
                    }
                });

                navLinkElements.forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('href') === '#' + current) {
                        link.classList.add('active');
                    }
                });
            };

            window.addEventListener('scroll', handleScroll, { passive: true });
        });

        function scrollToTop() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }
    </script>
</body>

</html>